(this.webpackJsonpproyectoreact=this.webpackJsonpproyectoreact||[]).push([[0],{102:function(e,t,c){},104:function(e,t,c){},111:function(e,t,c){},121:function(e,t,c){},122:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(31),r=c.n(s),i=(c(102),c(103),c(104),c(132)),l=c(128),o=c(137),j=c(133),d=c(134),b=c(95),m=c(94),u=c(20),x=c(7),O=c(1),h=Object(a.createContext)([]),p=function(){return Object(a.useContext)(h)},f=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(x.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(1),l=Object(x.a)(i,2),o=l[0],j=l[1],d=Object(a.useState)(0),b=Object(x.a)(d,2),m=b[0],p=b[1];Object(a.useEffect)((function(){var e=s.map((function(e){return e.stock*e.price})).reduce((function(e,t){return e+t}),0);p(e)}),[s]);return Object(O.jsx)(h.Provider,{value:{cartList:s,addItem:function(e){s.find((function(t){return t.item===e.item}))?(s.map((function(t){return t.item===e.item&&t.stock<e.stock&&(t.stock=t.stock+o),t})),console.log("Est\xe1s repitiendo")):r([].concat(Object(u.a)(s),[e]))},clearCart:function(){r([])},removeProd:function(e){var t=s.filter((function(t){return t.item!==e}));r(Object(u.a)(t))},count:o,setCount:j,totalPrice:m},children:t})},v=function(){var e=p().cartList;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-cart2",viewBox:"0 0 16 16",children:Object(O.jsx)("path",{d:"M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l1.25 5h8.22l1.25-5H3.14zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"})}),e.lenght]})})},N=c(18),g=c(129),y=function(){var e=p().cartList;return Object(O.jsx)(i.a,{bg:"dark",expand:"lg",variant:"dark",children:Object(O.jsxs)(l.a,{children:[Object(O.jsx)(i.a.Brand,{href:"/React/",children:"ZShoes"}),Object(O.jsx)(i.a.Toggle,{"aria-controls":"navbarScroll"}),Object(O.jsxs)(i.a.Collapse,{id:"navbarScroll",children:[Object(O.jsx)(o.a,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:Object(O.jsxs)(j.a,{title:"Talles",id:"navbarScrollingDropdown",children:[Object(O.jsx)(N.c,{to:"/React/",activeClassName:"active",className:"link d-flex ms-2 text-decoration-none text-black",children:"Todos"}),Object(O.jsx)(N.c,{to:"/React/size/7",activeClassName:"active",className:"link d-flex ms-2 text-decoration-none text-black",children:"7"}),Object(O.jsx)(N.c,{to:"/React/size/7.5",activeClassName:"active",className:"link d-flex ms-2 text-decoration-none text-black",children:"7.5"}),Object(O.jsx)(N.c,{to:"/React/size/8",activeClassName:"active",className:"link d-flex ms-2 text-decoration-none text-black",children:"8"}),Object(O.jsx)(N.c,{to:"/React/size/9",activeClassName:"active",className:"link d-flex ms-2 text-decoration-none text-black",children:"9"})]})}),Object(O.jsxs)(d.a,{className:"d-flex container",children:[Object(O.jsx)(b.a,{type:"search",placeholder:"Buscar modelos...",className:"me-2","aria-label":"Search"}),Object(O.jsx)(m.a,{variant:"outline-info",children:"Buscar"})]}),Object(O.jsxs)(o.a,{children:[Object(O.jsx)(N.c,{to:"/React/cart",activeClassName:"active",className:"link ms-2 text-decoration-none text-white",children:Object(O.jsx)(v,{})}),e.length>0&&Object(O.jsx)(g.a,{bg:"info",className:"p-1",children:e.length}),e.length<1&&Object(O.jsx)(g.a,{bg:"info",className:"p-1",children:e.length})]})]})]})})},k=c(2),C=c.n(k),w=c(4),S=c(6);function z(e){var t=e.item;return Object(O.jsxs)("div",{className:"card w-50 mt-5 mb-5 container",children:[Object(O.jsx)("div",{className:"card-header center",children:t.name}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("img",{className:"img-fluid w-25",src:t.img,alt:"foto-del-producto"}),Object(O.jsx)("div",{children:"Talle: "+t.size}),Object(O.jsx)("div",{children:"AR$"+t.price})]}),Object(O.jsx)("div",{className:"card-footer",children:Object(O.jsx)(N.b,{className:"text-white btn btn-primary",to:"/React/item/".concat(t.id),children:"Ver producto"})})]},t.id)}var R=function(e){var t=e.loading,c=e.products;return Object(O.jsx)("div",{children:t?Object(O.jsx)("h1",{className:"loading",children:"Espere un momento..."}):Object(O.jsx)("div",{className:"shoes",children:c.map((function(e){return Object(O.jsx)(z,{item:e},e.id)}))})})},F=c(16),I=c(96),A=c(59),E=Object(I.a)({apiKey:"AIzaSyBOV8xjk9KFMOocv0f7Hg0oheBQLvkET9w",authDomain:"zshoes.firebaseapp.com",projectId:"zshoes",storageBucket:"zshoes.appspot.com",messagingSenderId:"745127482128",appId:"1:745127482128:web:7824a496e5170dca69cb95",measurementId:"${config.measurementId}"}),B=Object(A.d)(E),L=c(37),P=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!0),r=Object(x.a)(s,2),i=r[0],l=r[1],o=Object(F.g)().sizeId;return Object(a.useEffect)((function(){var e=Object(L.c)(B,"stock"),t=function(){var t=Object(S.a)(C.a.mark((function t(){var c,a,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=9;break}return c=Object(L.h)(e,Object(L.i)("size","==",o)),t.next=4,Object(L.f)(Object(L.h)(c));case 4:a=t.sent,n(a.docs.map((function(e){return Object(w.a)({id:e.id},e.data())}))),l(!1),t.next=14;break;case 9:return t.next=11,Object(L.f)(e);case 11:s=t.sent,n(s.docs.map((function(e){return Object(w.a)({id:e.id},e.data())}))),l(!1);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[o]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(R,{loading:i,products:c})})},T=(c(111),c(80)),H=c.n(T),q=function(e){var t=e.stock,c=e.onAdd,a=p(),n=a.count,s=a.setCount;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){n<t?s(n+1):H()("ERROR","No hay mas stock de este producto","error")},children:"+"}),Object(O.jsx)("p",{children:n}),Object(O.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){s(n<=t&&n>1?n-1:0)},children:"-"}),Object(O.jsx)("button",{className:"btn btn-primary mx-3",onClick:c,children:"Agregar al carrito"})]})},M=function(){return Object(O.jsx)(N.b,{to:"/React/cart",children:Object(O.jsx)("button",{className:"btn btn-primary",children:"Carrito"})})},V=function(e){var t=e.item,c=p(),n=c.cartList,s=c.setCount,r=c.count,i=c.addItem,l=Object(a.useState)("countButton"),o=Object(x.a)(l,2),j=o[0],d=o[1];return console.log(n),Object(O.jsxs)("div",{className:"row mt-5 mx-5 center",children:[Object(O.jsx)("div",{className:"col-12 col-lg-6",children:Object(O.jsx)("img",{className:"w-25 img-fluid product-img",src:t.img,alt:t.name})}),Object(O.jsxs)("div",{className:"col-12 product-detail col-lg-6",children:[Object(O.jsx)("h3",{className:"text-uppercase fw-bold",children:t.name}),Object(O.jsx)("p",{className:"text-uppercase",children:"Talle: "+t.size}),Object(O.jsx)("p",{className:"fw-bold",children:"$"+t.price}),"countButton"===j?Object(O.jsx)("div",{className:"center d-flex",children:Object(O.jsx)(q,{onAdd:function(){i({item:t.name,stock:r,img:t.img,price:t.price,size:t.size}),d("CartButton"),s(1),H()(" ","\xa1Agregaste unas ".concat(t.name," al carrito!"),"success")},stock:t.stock,id:t.id})}):Object(O.jsx)(M,{})]})]})},$=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!0),r=Object(x.a)(s,2),i=r[0],l=r[1],o=Object(F.g)().prodId;return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(C.a.mark((function e(){var t,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=7;break}return t=Object(L.d)(B,"stock",o),e.next=4,Object(L.e)(t);case 4:c=e.sent,n(Object(w.a)({id:c.id},c.data())),l(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o]),Object(O.jsx)(V,{loading:i,item:c})},D=function(){var e=p(),t=e.cartList,c=e.clearCart,a=e.removeProd,n=e.totalPrice;return console.log(t),Object(O.jsx)(O.Fragment,{children:t.length>0?Object(O.jsxs)("div",{className:"mt-5",children:[Object(O.jsx)("p",{className:"pt-5 text-uppercase fs-3 fw-bold",children:"Carrito de compras"}),t.map((function(e){return Object(O.jsx)("div",{className:"d-flex justify-content-center",children:Object(O.jsxs)("div",{className:"card w-50 my-5 mx-3",children:[Object(O.jsx)("div",{className:"card-header text-uppercase",children:e.item}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("img",{src:e.img,className:"w-25 col-5 ms-5",alt:e.item}),Object(O.jsxs)("div",{className:"col-3 mt-5",children:[e.stock,"  x  ",e.item]}),Object(O.jsxs)("div",{className:"col-3 mt-5",children:["AR$ ",e.price*e.stock]}),Object(O.jsx)("div",{className:"col-1 mt-5",children:Object(O.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:function(){return a(e.item)},children:[Object(O.jsx)("i",{className:"fa fa-trash"}),"  Eliminar"]})})]})]},e.item)})})),Object(O.jsxs)("p",{className:"mx-2 info textUppercase",children:["Precio total =  $",n]}),Object(O.jsx)("button",{className:"btn btn-primary mb-5 mx-2",onClick:c,children:"Vaciar carrito"}),Object(O.jsx)(N.b,{to:"/React/checkout",className:"btn btn-primary mb-5 mx-2",activeClassName:"active",children:"Comprar"})]}):Object(O.jsxs)("div",{className:"mt-5",children:[Object(O.jsx)("p",{className:"fs-3 fw-bold",children:"Tu carrito se encuentra vac\xedo"}),Object(O.jsxs)("p",{className:"fw-normal fs-5",children:["Agregue sus productos clickeando ",Object(O.jsx)(N.b,{to:"/React/",className:"fw-bold",children:"AQU\xcd"})]})]})})},K=c(42),J=c(130),Q=c(135),U=c(131),Z=c(136),G=function(e){var t=e.createOrder,c=e.hideContainer,n=p(),s=n.clearCart,r=n.cartList.map((function(e){return e.stock*e.price})).reduce((function(e,t){return e+t}),0),i=Object(a.useState)(!1),l=Object(x.a)(i,2),o=l[0],j=l[1];return Object(O.jsxs)(d.a,{className:"form-payment",onChange:function(){return j(!0)},children:[Object(O.jsxs)(Z.a,{children:[Object(O.jsxs)(Z.a.Item,{eventKey:"0",children:[Object(O.jsxs)(Z.a.Header,{children:[Object(O.jsxs)("label",{htmlFor:"CreditCard",className:"label-card",children:["Tarjeta de cr\xe9dito ",Object(O.jsx)("i",{className:"fas fa-credit-card"})]}),Object(O.jsx)("input",{type:"radio",name:"payment",value:"CreditCard"})]}),Object(O.jsx)(Z.a.Body,{children:Object(O.jsxs)("div",{className:"card-details",children:[Object(O.jsxs)("div",{className:"card-name",children:[Object(O.jsx)("label",{htmlFor:"name",children:"Nombre del titular"}),Object(O.jsx)("input",{className:"text-center",type:"text",name:"name",id:"name"})]}),Object(O.jsxs)("div",{className:"card-number",children:[Object(O.jsx)("label",{htmlFor:"number",children:"N\xfamero de la tarjeta"}),Object(O.jsx)("input",{className:"text-center",type:"number",name:"number",id:"number",maxLength:"16"})]}),Object(O.jsxs)("div",{className:"expiration",children:[Object(O.jsx)("label",{htmlFor:"expiration",children:"Mes y a\xf1o de expiraci\xf3n"}),Object(O.jsx)("input",{className:"text-center",type:"text",name:"expiration",id:"expiration"})]}),Object(O.jsxs)("div",{className:"CVV",children:[Object(O.jsx)("label",{htmlFor:"cvv",children:"CVV"}),Object(O.jsx)("input",{className:"text-center",type:"text",name:"cvv",id:"cvv",maxLength:"3"})]}),"AR$ ",1.22*r," ser\xe1 el precio con cargos incluidos + env\xedo"]})})]}),Object(O.jsxs)(Z.a.Item,{eventKey:"2",children:[Object(O.jsxs)(Z.a.Header,{children:[Object(O.jsxs)("label",{htmlFor:"cash",className:"label-icon",children:["Efectivo (10% de descuento) ",Object(O.jsx)("i",{className:"fas fa-money-bill"})]}),Object(O.jsx)("input",{type:"radio",name:"payment",value:"cash"})]}),Object(O.jsxs)(Z.a.Body,{children:["AR$ ",.9*r," ser\xe1 el precio si lo pagas en efectivo en nuestro local"]})]})]}),o?Object(O.jsx)(m.a,{size:"sm",variant:"primary",className:"btn-finish",onClick:function(){t(),s(),c()},children:"Finalizar compra"}):Object(O.jsx)(m.a,{size:"sm",variant:"primary",className:"btn-finish",disabled:!0,children:"Finalizar compra"})]})},W=(c(121),c.p+"static/media/check-green.4b870e99.gif"),X=function(){var e=p(),t=e.cartList,c=e.totalPrice,n=Object(a.useState)(""),s=Object(x.a)(n,2),r=s[0],i=s[1],l=Object(a.useState)(""),o=Object(x.a)(l,2),j=o[0],d=o[1],b=Object(a.useState)(""),m=Object(x.a)(b,2),u=m[0],h=m[1],f=Object(a.useState)(""),v=Object(x.a)(f,2),g=v[0],y=v[1],k=Object(a.useState)(""),w=Object(x.a)(k,2),z=w[0],R=w[1],F=Object(a.useState)([]),I=Object(x.a)(F,2),E=I[0],L=I[1],P=Object(a.useState)(!1),T=Object(x.a)(P,2),H=T[0],q=T[1],M=Object(a.useState)("checkout-container"),V=Object(x.a)(M,2),$=V[0],D=V[1],Z=Object(a.useState)(""),X=Object(x.a)(Z,2),Y=X[0],_=X[1],ee=Object(a.useState)(""),te=Object(x.a)(ee,2),ce=te[0],ae=te[1];Object(a.useEffect)((function(){return fetch("https://restcountries.com/v2/all?fields=name").then((function(e){return e.json()})).then((function(e){L(e)})),function(){return L([])}}),[]);var ne=function(){var e=Object(S.a)(C.a.mark((function e(){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).date=A.a.fromDate(new Date),a.buyer={name:r,surname:j,email:u,country:g,city:z},a.total=c,a.shoes=t.map((function(e){return{name:e.item,price:e.price,size:e.size}})),e.next=7,Object(A.b)(Object(A.c)(B,"orders"),a);case 7:n=e.sent,ae(n.id);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:$,children:[Object(O.jsx)(N.b,{to:"/React/cart",className:"back-cart btn-dark",children:"Volver al carrito"}),Object(O.jsxs)("div",{className:"checkout-details-container border border-dark",children:[Object(O.jsx)("h5",{className:"d-flex justify-content-left",children:"Mi pedido"}),t.map((function(e){return Object(O.jsxs)("div",{className:"checkout-cart",children:[Object(O.jsx)(J.a,{src:e.img}),Object(O.jsxs)("div",{className:"checkout-detail",children:[Object(O.jsx)("h3",{children:e.item}),Object(O.jsxs)("p",{children:["Talle: ",e.size]}),Object(O.jsxs)("p",{children:[" ",e.price," x ",e.stock]})]})]},e.id)}))]}),Object(O.jsxs)("form",{className:"buyer-form",onSubmit:function(e){e.preventDefault(),q(!H)},children:[Object(O.jsxs)("div",{className:"col-1",id:"buyer-name",children:[Object(O.jsx)("label",{htmlFor:"name",children:"Nombre: "}),Object(O.jsx)("input",{type:"text",name:"name",onChange:function(e){return i(e.target.value)},placeholder:"Nombre",required:!0})]}),Object(O.jsxs)("div",{className:"col-2",id:"buyer-surname",children:[Object(O.jsx)("label",{htmlFor:"surname",children:"Apellido: "}),Object(O.jsx)("input",{type:"text",name:"surname",onChange:function(e){return d(e.target.value)},placeholder:"Apellido",required:!0})]}),Object(O.jsxs)("div",{className:"col-1",id:"buyer-email",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Ingrese su mail: "}),Object(O.jsx)("input",{type:"email",name:"email",onChange:function(e){return h(e.target.value)},placeholder:"tumail@servicio.com",required:!0})]}),Object(O.jsxs)("div",{className:"col-2",id:"buyer-re-email",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Repite tu mail: "}),Object(O.jsx)("input",{type:"email",name:"email",placeholder:"tumail@servicio.com",onChange:function(e){return _(e.target.value)},required:!0})]}),Object(O.jsxs)("div",{className:"col-1",id:"buyer-country",children:[Object(O.jsx)("label",{htmlFor:"country",children:"Pa\xeds "}),Object(O.jsx)("select",{name:"country",onChange:function(e){return y(e.target.value)},required:!0,children:E.map((function(e){return Object(O.jsx)("option",{value:e.name,children:e.name},e.nombre)}))})]}),Object(O.jsxs)("div",{className:"col-2",id:"buyer-city",children:[Object(O.jsx)("label",{htmlFor:"city",children:" Provincia "}),Object(O.jsx)("input",{type:"text",onChange:function(e){return R(e.target.value)},required:!0,placeholder:"Escribe tu provincia aqu\xed"})]}),Object(O.jsx)("div",{className:"select-payment",children:Y.length>1&&u===Y?Object(O.jsx)("input",{type:"submit",className:"btn btn-primary rounded-pill",value:"Elegir m\xe9todo de pago"}):Object(O.jsx)(Q.a,{placement:"right",overlay:Object(O.jsx)(U.a,{id:"tooltip-disabled",children:"Completa los campos requeridos"}),children:Object(O.jsx)("span",{className:"d-inline-block",children:Object(O.jsx)(K.a,{className:"btn btn-primary rounded-pill",disabled:!0,style:{pointerEvents:"none"},children:"Elegir m\xe9todo de pago"})})})})]}),H&&Object(O.jsx)("section",{className:"payment-options",children:Object(O.jsx)(G,{totalPrice:c,createOrder:ne,hideContainer:function(){D("hide")}})})]}),"hide"===$&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"order-confirm",children:[Object(O.jsx)("img",{className:"checkout-img",src:W,alt:"checked"}),Object(O.jsxs)("h3",{children:["\xa1Muchas gracias por tu compra, ",r,"!"]}),Object(O.jsxs)("p",{children:["Copie su numero de orden por si tiene inconvenientes con su pedido: ",ce]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(N.b,{to:"/React/",className:"btn rounded-pill btn-primary text-light",children:"Seguir comprando"})})]})]})};var Y=function(){return Object(O.jsx)(f,{children:Object(O.jsx)(N.a,{children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("header",{children:Object(O.jsx)(y,{})}),Object(O.jsxs)(F.c,{children:[Object(O.jsx)(F.a,{path:"/React/",element:Object(O.jsx)(P,{})}),Object(O.jsx)(F.a,{path:"/React/size/:sizeId",element:Object(O.jsx)(P,{})}),Object(O.jsx)(F.a,{path:"/React/item/:prodId",element:Object(O.jsx)($,{})}),Object(O.jsx)(F.a,{path:"/React/cart",element:Object(O.jsx)(D,{})}),Object(O.jsx)(F.a,{path:"/React/checkout",element:Object(O.jsx)(X,{})})]})]})})})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,138)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(Y,{})}),document.getElementById("root")),_()}},[[122,1,2]]]);
//# sourceMappingURL=main.38195583.chunk.js.map