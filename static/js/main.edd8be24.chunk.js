(this.webpackJsonpproyectoreact=this.webpackJsonpproyectoreact||[]).push([[0],{100:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(35),r=c.n(s),i=(c(98),c(99),c(100),c(120)),l=c(116),o=c(125),j=c(121),d=c(122),b=c(91),m=c(90),u=c(23),x=c(7),O=c(1),h=Object(a.createContext)([]),p=function(){return Object(a.useContext)(h)},v=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(x.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(1),l=Object(x.a)(i,2),o=l[0],j=l[1],d=s.map((function(e){return e.Stock*e.price})).reduce((function(e,t){return e+t}),0);return Object(O.jsx)(h.Provider,{value:{cartList:s,addItem:function(e){s.find((function(t){return t.item===e.item}))?(s.map((function(t){return t.item===e.item&&(t.stock=t.stock+o),t})),console.log("Est\xe1s repitiendo")):r([].concat(Object(u.a)(s),[e]))},clearCart:function(){r([])},removeProd:function(e){var t=s.filter((function(t){return t.id!==e}));r([t])},count:o,setCount:j,totalPrice:d},children:t})},f=function(){var e=p().cartList;return Object(O.jsx)(O.Fragment,{children:0!==e.length&&Object(O.jsxs)("div",{children:[Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-cart2",viewBox:"0 0 16 16",children:Object(O.jsx)("path",{d:"M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l1.25 5h8.22l1.25-5H3.14zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"})}),e.lenght]})})},N=c(18),g=c(117),y=function(){var e=p().cartList;return Object(O.jsx)(i.a,{bg:"dark",expand:"lg",variant:"dark",children:Object(O.jsxs)(l.a,{children:[Object(O.jsx)(i.a.Brand,{href:"/React/",children:"ZShoes"}),Object(O.jsx)(i.a.Toggle,{"aria-controls":"navbarScroll"}),Object(O.jsxs)(i.a.Collapse,{id:"navbarScroll",children:[Object(O.jsxs)(o.a,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:[Object(O.jsx)(N.c,{to:"/React/catalogo",activeClassName:"active",className:"link d-flex me-1 mt-2 text-decoration-none text-white",children:"Cat\xe1logo"}),Object(O.jsxs)(j.a,{title:"Talles",id:"navbarScrollingDropdown",children:[Object(O.jsx)(N.c,{to:"/React/catalogo",activeClassName:"active",className:"link d-flex ms-2 text-decoration-none text-black",children:"Todos"}),Object(O.jsx)(N.c,{to:"/React/size/7",activeClassName:"active",className:"link d-flex ms-2 text-decoration-none text-black",children:"7"}),Object(O.jsx)(N.c,{to:"/React/size/7.5",activeClassName:"active",className:"link d-flex ms-2 text-decoration-none text-black",children:"7.5"}),Object(O.jsx)(N.c,{to:"/React/size/8",activeClassName:"active",className:"link d-flex ms-2 text-decoration-none text-black",children:"8"}),Object(O.jsx)(N.c,{to:"/React/size/9",activeClassName:"active",className:"link d-flex ms-2 text-decoration-none text-black",children:"9"})]})]}),Object(O.jsxs)(d.a,{className:"d-flex container",children:[Object(O.jsx)(b.a,{type:"search",placeholder:"Buscar modelos...",className:"me-2","aria-label":"Search"}),Object(O.jsx)(m.a,{variant:"outline-info",children:"Buscar"})]}),Object(O.jsxs)(o.a,{children:[Object(O.jsx)(N.c,{to:"/React/cart",activeClassName:"active",className:"link ms-2 text-decoration-none text-white",children:Object(O.jsx)(f,{})}),e.length>0&&Object(O.jsx)(g.a,{bg:"info",className:"p-1",children:e.length})]})]})]})})},k=c(2),C=c.n(k),S=c(4),w=c(6);function z(e){var t=e.item;return Object(O.jsxs)("div",{className:"card w-50 mt-5 mb-5 container",children:[Object(O.jsx)("div",{className:"card-header center",children:t.name}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("img",{className:"img-fluid w-25",src:t.img,alt:"foto-del-producto"}),Object(O.jsx)("div",{children:"Talle: "+t.size}),Object(O.jsx)("div",{children:"AR$"+t.price})]}),Object(O.jsx)("div",{className:"card-footer",children:Object(O.jsx)(N.b,{className:"text-white btn btn-primary",to:"/React/item/".concat(t.id),children:"Ver producto"})})]},t.id)}var F=function(e){var t=e.loading,c=e.products;return Object(O.jsx)("div",{children:t?Object(O.jsx)("h1",{className:"loading",children:"Loading..."}):Object(O.jsx)("div",{className:"shoes",children:c.map((function(e){return Object(O.jsx)(z,{item:e},e.id)}))})})},R=c(16),I=c(92),A=c(58),B=Object(I.a)({apiKey:"AIzaSyBOV8xjk9KFMOocv0f7Hg0oheBQLvkET9w",authDomain:"zshoes.firebaseapp.com",projectId:"zshoes",storageBucket:"zshoes.appspot.com",messagingSenderId:"745127482128",appId:"1:745127482128:web:7824a496e5170dca69cb95",measurementId:"${config.measurementId}"}),L=Object(A.d)(B),P=c(37),E=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!0),r=Object(x.a)(s,2),i=r[0],l=r[1],o=Object(R.g)().sizeId;return Object(a.useEffect)((function(){var e=Object(P.c)(L,"stock"),t=function(){var t=Object(w.a)(C.a.mark((function t(){var c,a,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=9;break}return c=Object(P.h)(e,Object(P.i)("size","==",o)),t.next=4,Object(P.f)(Object(P.h)(c));case 4:a=t.sent,n(a.docs.map((function(e){return Object(S.a)({id:e.id},e.data())}))),l(!1),t.next=14;break;case 9:return t.next=11,Object(P.f)(e);case 11:s=t.sent,n(s.docs.map((function(e){return Object(S.a)({id:e.id},e.data())}))),l(!1);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[o]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(F,{loading:i,products:c})})},H=(c(108),function(e){var t=e.stock,c=e.onAdd,a=p(),n=a.count,s=a.setCount;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){n<t?s(n+1):alert("No queda m\xe1s stock de este producto.")},children:"+"}),Object(O.jsx)("p",{children:n}),Object(O.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){s(n<=t&&n>1?n-1:0)},children:"-"}),Object(O.jsx)("button",{className:"btn btn-primary mx-3",onClick:c,children:"Agregar al carrito"})]})}),T=function(){return Object(O.jsx)(N.b,{to:"/React/cart",children:Object(O.jsx)("button",{className:"btn btn-primary",children:"Carrito"})})},V=function(e){var t=e.item,c=p(),n=c.cartList,s=c.setCount,r=c.count,i=c.addItem,l=Object(a.useState)("countButton"),o=Object(x.a)(l,2),j=o[0],d=o[1];return console.log(n),Object(O.jsxs)("div",{className:"row mt-5 mx-5 center",children:[Object(O.jsx)("div",{className:"col-12 col-lg-6",children:Object(O.jsx)("img",{className:"w-25 img-fluid product-img",src:t.img,alt:t.name})}),Object(O.jsxs)("div",{className:"col-12 product-detail col-lg-6",children:[Object(O.jsx)("h3",{className:"text-uppercase fw-bold",children:t.name}),Object(O.jsx)("p",{className:"text-uppercase",children:"Talle: "+t.size}),Object(O.jsx)("p",{className:"fw-bold",children:"$"+t.price}),"countButton"===j?Object(O.jsx)("div",{className:"center d-flex",children:Object(O.jsx)(H,{onAdd:function(){i({item:t.name,Stock:r,img:t.img,price:t.price}),d("CartButton"),s(1),alert("Has agregado el producto al carrito")},stock:t.stock,id:t.id})}):Object(O.jsx)(T,{})]})]})},q=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!0),r=Object(x.a)(s,2),i=r[0],l=r[1],o=Object(R.g)().prodId;return Object(a.useEffect)((function(){var e=function(){var e=Object(w.a)(C.a.mark((function e(){var t,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=7;break}return t=Object(P.d)(L,"stock",o),e.next=4,Object(P.e)(t);case 4:c=e.sent,n(Object(S.a)({id:c.id},c.data())),l(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o]),Object(O.jsx)(V,{loading:i,item:c})},M=function(){var e=p(),t=e.cartList,c=e.clearCart,a=e.removeProd,n=e.totalPrice;return console.log(t),Object(O.jsx)(O.Fragment,{children:t.length>0?Object(O.jsxs)("div",{className:"mt-5",children:[Object(O.jsx)("p",{className:"pt-5 text-uppercase fs-3 fw-bold",children:"Carrito de compras"}),t.map((function(e){return Object(O.jsx)("div",{className:"d-flex justify-content-center",children:Object(O.jsxs)("div",{className:"card w-50 my-5 mx-3",children:[Object(O.jsx)("div",{className:"card-header text-uppercase",children:e.item}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("img",{src:e.img,className:"w-25 col-5 ms-5",alt:e.item}),Object(O.jsxs)("div",{className:"col-3 mt-5",children:[e.Stock,"  x  ",e.item]}),Object(O.jsxs)("div",{className:"col-3 mt-5",children:["AR$ ",e.price*e.Stock]}),Object(O.jsx)("div",{className:"col-1 mt-5",children:Object(O.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:function(){return a(e.id)},children:[Object(O.jsx)("i",{className:"fa fa-trash"}),"  Eliminar"]})})]})]},e.item)})})),Object(O.jsxs)("p",{className:"mx-2 info textUppercase",children:["Precio total =  $",n]}),Object(O.jsx)("button",{className:"btn btn-primary mb-5 mx-2",onClick:c,children:"Vaciar carrito"}),Object(O.jsx)(N.b,{to:"/React/checkout",className:"btn btn-primary mb-5 mx-2",activeClassName:"active",children:"Comprar"})]}):Object(O.jsxs)("div",{className:"mt-5",children:[Object(O.jsx)("p",{className:"fs-3 fw-bold",children:"Tu carrito se encuentra vac\xedo"}),Object(O.jsxs)("p",{className:"fw-normal fs-5",children:["Agregue sus productos clickeando ",Object(O.jsx)(N.b,{to:"/React/catalogo",className:"fw-bold",children:"AQU\xcd"})]})]})})},D=c(42),$=c(118),K=c(123),J=c(119),Q=c(124),U=function(e){var t=e.createOrder,c=p(),n=c.clearCart,s=c.cartList.map((function(e){return e.Stock*e.price})).reduce((function(e,t){return e+t}),0),r=Object(a.useState)(!1),i=Object(x.a)(r,2),l=i[0],o=i[1];return Object(O.jsxs)(d.a,{className:"form-payment",onChange:function(){return o(!0)},children:[Object(O.jsxs)(Q.a,{children:[Object(O.jsxs)(Q.a.Item,{eventKey:"0",children:[Object(O.jsxs)(Q.a.Header,{children:[Object(O.jsxs)("label",{htmlFor:"CreditCard",className:"label-card",children:["Tarjeta de cr\xe9dito ",Object(O.jsx)("i",{className:"fas fa-credit-card"})]}),Object(O.jsx)("input",{type:"radio",name:"payment",value:"CreditCard"})]}),Object(O.jsx)(Q.a.Body,{children:Object(O.jsxs)("div",{className:"card-details",children:[Object(O.jsxs)("div",{className:"card-name",children:[Object(O.jsx)("label",{htmlFor:"name",children:"Nombre en la tarjeta"}),Object(O.jsx)("input",{type:"text",name:"name",id:"name"})]}),Object(O.jsxs)("div",{className:"card-number",children:[Object(O.jsx)("label",{htmlFor:"number",children:"N\xfamero de la tarjeta"}),Object(O.jsx)("input",{type:"number",name:"number",id:"number",maxLength:"16"})]}),Object(O.jsxs)("div",{className:"expiration",children:[Object(O.jsx)("label",{htmlFor:"expiration",children:"Mes y a\xf1o de expiraci\xf3n"}),Object(O.jsx)("input",{type:"month",name:"expiration",id:"expiration"})]}),Object(O.jsxs)("div",{className:"CVV",children:[Object(O.jsx)("label",{htmlFor:"cvv",children:"CVV"}),Object(O.jsx)("input",{type:"text",name:"cvv",id:"cvv",maxLength:"3"})]})]})})]}),Object(O.jsx)(Q.a.Item,{eventKey:"1",children:Object(O.jsx)(Q.a.Header,{children:Object(O.jsx)("input",{type:"radio",name:"payment",value:"PayPal"})})}),Object(O.jsxs)(Q.a.Item,{eventKey:"2",children:[Object(O.jsxs)(Q.a.Header,{children:[Object(O.jsxs)("label",{htmlFor:"CreditCard",className:"label-icon",children:["Efectivo (10% de descuento) ",Object(O.jsx)("i",{className:"fas fa-money-bill"})]}),Object(O.jsx)("input",{type:"radio",name:"payment",value:"CreditCard"})]}),Object(O.jsxs)(Q.a.Body,{children:["AR$ ",.9*s," ser\xe1 el precio si lo pagas en efectivo en nuestro local"]})]})]}),l?Object(O.jsx)(m.a,{size:"sm",variant:"primary",className:"btn-finish",onClick:function(){t(),n()},children:"Finalizar compra"}):Object(O.jsx)(m.a,{size:"sm",variant:"primary",className:"btn-finish",disabled:!0,children:"Finalizar compra"})]})};c(109);var Z=function(){var e=p(),t=e.cartList,c=e.totalPrice,n=Object(a.useState)(""),s=Object(x.a)(n,2),r=s[0],i=s[1],l=Object(a.useState)(""),o=Object(x.a)(l,2),j=o[0],d=o[1],b=Object(a.useState)(""),m=Object(x.a)(b,2),u=m[0],h=m[1],v=Object(a.useState)(""),f=Object(x.a)(v,2),g=f[0],y=f[1],k=Object(a.useState)(!1),S=Object(x.a)(k,2),z=S[0],F=S[1],R=Object(a.useState)("checkout-container"),I=Object(x.a)(R,2),B=I[0],P=(I[1],Object(a.useState)("")),E=Object(x.a)(P,2),H=E[0],T=E[1],V=Object(a.useState)(""),q=Object(x.a)(V,2),M=q[0],Q=q[1],Z=function(){var e=Object(w.a)(C.a.mark((function e(){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).date=A.a.fromDate(new Date),a.buyer={name:r,surname:j,email:u,city:g},a.total=c,a.shoes=t.map((function(e){return{id:e.id,name:e.name,size:e.size,stock:e.stock}})),e.next=7,Object(A.b)(Object(A.c)(L,"orders"),a);case 7:n=e.sent,Q(n.id);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:B,children:[Object(O.jsx)(N.b,{to:"/React/cart",className:"back-cart btn-dark",children:"Volver a carrito"}),Object(O.jsx)("div",{className:"checkout-details-container",children:t.map((function(e){return Object(O.jsxs)("div",{className:"checkout-cart",children:[Object(O.jsx)($.a,{src:e.img}),Object(O.jsxs)("div",{className:"checkout-detail",children:[Object(O.jsxs)("h3",{children:[e.name," Talle ",e.size]}),Object(O.jsxs)("p",{children:[" ",e.price," x ",e.Stock]})]})]},e.id)}))}),Object(O.jsxs)("form",{className:"buyer-form",onSubmit:function(e){e.preventDefault(),F(!z)},children:[Object(O.jsxs)("div",{className:"col-1",id:"buyer-name",children:[Object(O.jsx)("label",{htmlFor:"nombre",children:"Nombre: "}),Object(O.jsx)("input",{type:"text",name:"nombre",onChange:function(e){return i(e.target.value)},placeholder:"Nombre",required:!0})]}),Object(O.jsxs)("div",{className:"col-2",id:"buyer-surname",children:[Object(O.jsx)("label",{htmlFor:"apellido",children:"Apellido: "}),Object(O.jsx)("input",{type:"text",name:"apellido",onChange:function(e){return d(e.target.value)},placeholder:"Apellido",required:!0})]}),Object(O.jsxs)("div",{className:"col-1",id:"buyer-email",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Ingrese su mail: "}),Object(O.jsx)("input",{type:"email",name:"email",onChange:function(e){return h(e.target.value)},placeholder:"tumail@servicio.com",required:!0})]}),Object(O.jsxs)("div",{className:"col-2",id:"buyer-re-email",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Repite tu mail: "}),Object(O.jsx)("input",{type:"email",name:"email",placeholder:"tumail@servicio.com",onChange:function(e){return T(e.target.value)},required:!0})]}),Object(O.jsxs)("div",{className:"col-1",id:"buyer-city",children:[Object(O.jsx)("label",{htmlFor:"city",children:"Provincia: "}),Object(O.jsxs)("select",{name:"city",onChange:function(e){return y(e.target.value)},required:!0,children:[Object(O.jsx)("option",{value:"BSAS",children:"Buenos Aires"}),Object(O.jsx)("option",{value:"interior",children:"Interior"})]})]}),Object(O.jsxs)("div",{className:"col-2",id:"buyer-source",children:[Object(O.jsx)("label",{htmlFor:"source",children:"Codigo Postal "}),Object(O.jsx)("textarea",{placeholder:"Escribe tu codigo postal aqu\xed"})]}),Object(O.jsx)("div",{className:"select-payment",children:H.length>1&&u===H?Object(O.jsx)("input",{type:"submit",className:"btn btn-primary rounded-pill",value:"Elegir m\xe9todo de pago"}):Object(O.jsx)(K.a,{placement:"right",overlay:Object(O.jsx)(J.a,{id:"tooltip-disabled",children:"Completa todos los campos"}),children:Object(O.jsx)("span",{className:"d-inline-block",children:Object(O.jsx)(D.a,{className:"btn btn-primary rounded-pill",disabled:!0,style:{pointerEvents:"none"},children:"Elegir m\xe9todo de pago"})})})})]}),z&&Object(O.jsx)("section",{className:"payment-options",children:Object(O.jsx)(U,{totalPrice:c,createOrder:Z})})]}),"none"===B&&Object(O.jsxs)("div",{className:"order-confirm",children:[Object(O.jsxs)("h3",{children:["Muchas gracias por tu compra, ",r,"!"]}),Object(O.jsxs)("p",{children:["Copie su numero de orden por si tiene inconvenientes con su pedido: ",M]})]})]})};var G=function(){return Object(O.jsx)(v,{children:Object(O.jsx)(N.a,{children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("header",{children:Object(O.jsx)(y,{})}),Object(O.jsxs)(R.c,{children:[Object(O.jsx)(R.a,{path:"/React/catalogo",element:Object(O.jsx)(E,{})}),Object(O.jsx)(R.a,{path:"/React/size/:sizeId",element:Object(O.jsx)(E,{})}),Object(O.jsx)(R.a,{path:"/React/item/:prodId",element:Object(O.jsx)(q,{})}),Object(O.jsx)(R.a,{path:"/React/cart",element:Object(O.jsx)(M,{})}),Object(O.jsx)(R.a,{path:"/React/checkout",element:Object(O.jsx)(Z,{})})]})]})})})},W=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,126)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(G,{})}),document.getElementById("root")),W()},98:function(e,t,c){}},[[110,1,2]]]);
//# sourceMappingURL=main.edd8be24.chunk.js.map